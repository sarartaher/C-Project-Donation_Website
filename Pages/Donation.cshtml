@page
@model Donation_Website.Pages.DonationModel
@{
    ViewData["Title"] = "Donation";
}
<!-- Image Slider -->
<div id="donationCarousel" class="carousel slide mb-5" data-bs-ride="carousel">
    <div class="carousel-inner">
        <div class="carousel-item active">
            <img src="/Assets/Flood_1.jpg" class="d-block w-100 " alt="Banner 1">
        </div>
        <div class="carousel-item">
            <img src="/Assets/flood_2.jpg" class="d-block w-100 " alt="Banner 2">
        </div>
        <div class="carousel-item">
            <img src="/Assets/flood_3.jpg" class="d-block w-100 " alt="Banner 3">
        </div>

        <button class="carousel-control-prev" type="button" data-bs-target="#donationCarousel" data-bs-slide="prev">
            <span class="carousel-control-prev-icon"></span>
        </button>
        <button class="carousel-control-next" type="button" data-bs-target="#donationCarousel" data-bs-slide="next">
            <span class="carousel-control-next-icon"></span>
        </button>
    </div>
</div>

<!-- Donation Form -->
<div class="container">
    <div class="card shadow p-4 mb-5">
        <h2 class="text-center text-primary mb-4">Make a Donation</h2>
        <form id="donationForm">
            <!-- Event Dropdown -->
            <div class="mb-3">
                <label for="eventSelect" class="form-label">Select Event</label>
                <select class="form-select" id="eventSelect" required>
                    <option value="" disabled selected>Choose an event...</option>
                    <option>Zakat</option>
                    <option>Gaza</option>
                    <option>Orphan Support</option>
                    <option>Tree Plantation</option>
                    <option>Eid & Ramadan</option>
                    <option>Natural Disaster</option>
                    <option>Home Repair</option>
                    <option>Water Aid</option>
                    <option>Winter Support</option>
                    <option>Healthcare Aid</option>
                    <option>Education Fund</option>
                </select>
            </div>

            <!-- Secret Name -->
            <div class="mb-3">
                <label for="secretName" class="form-label">Secret Name (Optional)</label>
                <input type="text" class="form-control" id="secretName" placeholder="Enter secret name">
            </div>

            <!-- Donation Amount -->
            <div class="mb-3">
                <label for="amount" class="form-label">Donation Amount ($)</label>
                <input type="number" class="form-control" id="amount" placeholder="Enter amount" required>
            </div>

            <!-- Confirm Button -->
            <button type="submit" class="btn btn-success w-100">Confirm Donation</button>
        </form>
    </div>
</div>

<!-- Cart Section -->
<div class="container">
    <div class="card shadow p-4">
        <h2 class="text-center text-warning mb-4">Donation Cart</h2>
        <table class="table table-bordered text-center" id="cartTable">
            <thead class="table-dark">
                <tr>
                    <th>Event</th>
                    <th>Secret Name</th>
                    <th>Amount ($)</th>
                </tr>
            </thead>
            <tbody>
                <!-- Donations will be added here -->
            </tbody>
        </table>
    </div>
</div>

<!-- Bootstrap JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

<!-- Custom Script -->
<script>
    document.getElementById("donationForm").addEventListener("submit", function(e){
      e.preventDefault();

      // Get form values
      const event = document.getElementById("eventSelect").value;
      const secretName = document.getElementById("secretName").value || "Anonymous";
      const amount = document.getElementById("amount").value;

      // Add to cart table
      const cartTable = document.getElementById("cartTable").getElementsByTagName("tbody")[0];
      const newRow = cartTable.insertRow();
      newRow.innerHTML = `
        <td>${event}</td>
        <td>${secretName}</td>
        <td>${amount}</td>
      `;

      // Reset form
      document.getElementById("donationForm").reset();
    });
</script>
